# TASK-004: 결과 팝업 캐릭터 사이즈 수정

## 메타데이터

| 항목 | 값 |
|------|-----|
| Task ID | TASK-004 |
| 우선순위 | Medium |
| 상태 | 🔴 Blocked (추가 정보 필요) |
| 예상 영향 범위 | 결과 화면 UI |
| 관련 이슈 | PENDING-ISSUES.md #4 |

---

## 1. 개요

### 1.1 문제 정의
결과 팝업(게임 종료 후 표시되는 화면)에서 나오는 캐릭터들의 사이즈 조정이 필요합니다.

### 1.2 목표
- 결과 화면의 캐릭터 표시 크기 최적화
- UI 레이아웃과 조화로운 크기 설정
- 사용자 경험 개선

---

## 2. 현황 분석

### 2.1 관련 파일

| 파일 | 역할 |
|------|------|
| `assets/resources/prefabs/UIEndPage.prefab` | 결과 페이지 프리팹 |
| `assets/Game/Script/ui/UIEndPage.ts` | 결과 페이지 스크립트 |

### 2.2 추정 UI 구조

```
UIEndPage
├── Background
├── Result Info (점수, 코인 등)
├── Character Display
│   ├── Hero Skeleton/Sprite
│   └── Pet Skeleton/Sprite (있는 경우)
├── Reward Section
└── Buttons (재시작, 홈 등)
```

---

## 3. 요구사항 (Pending)

### 3.1 필수 입력 정보

| 항목 | 상태 | 설명 |
|------|------|------|
| 현재 문제 | ❌ 미제공 | 캐릭터가 너무 큰지/작은지 |
| 원하는 크기 | ❌ 미제공 | 목표 크기 비율 (현재 대비 %) |
| 적용 대상 | ❓ 미확인 | 영웅만? 펫도? 모두? |

### 3.2 참고 질문

```
1. 현재 캐릭터가 너무 큰가요, 작은가요?
2. 현재 대비 몇 %로 조정하면 될까요?
   - 예: 80% (현재보다 작게)
   - 예: 120% (현재보다 크게)
3. 영웅과 펫 모두 조정해야 하나요?
```

---

## 4. 수정 계획 (정보 제공 후)

### 4.1 방법 A: 프리팹 직접 수정 (권장)

```json
// UIEndPage.prefab 내 캐릭터 노드
// 줄이는 경우 (예: 0.8배)
"_scale": {
    "__type__": "cc.Vec3",
    "x": 0.8,
    "y": 0.8,
    "z": 1
}

// 키우는 경우 (예: 1.2배)
"_scale": {
    "__type__": "cc.Vec3",
    "x": 1.2,
    "y": 1.2,
    "z": 1
}
```

### 4.2 방법 B: 스크립트 동적 조정

```typescript
// UIEndPage.ts

// 상수 정의
const HERO_SCALE = 0.8;  // 또는 적절한 값
const PET_SCALE = 0.8;

// 초기화 또는 표시 시
showResult() {
    // 영웅 스케일 조정
    if (this.heroNode) {
        this.heroNode.scale = HERO_SCALE;
    }
    
    // 펫 스케일 조정 (필요시)
    if (this.petNode) {
        this.petNode.scale = PET_SCALE;
    }
}
```

### 4.3 방법 C: 영웅별 개별 스케일

```typescript
// 영웅별 결과화면 스케일 테이블
const RESULT_HERO_SCALES = {
    1: 0.75,  // 정령 사수 - 작게
    2: 0.85,  // 전사
    3: 0.80,  // 화총수
    4: 0.70,  // 법사
    5: 0.90,  // 튜브 (큰 캐릭터)
    6: 0.80,  // 수전사
    7: 0.85,  // 열화룡
    8: 0.75,  // 악마녀
};
```

---

## 5. 분석 필요 사항

### 5.1 UIEndPage.prefab 구조 파악

- 캐릭터 표시 노드 이름
- 현재 스케일 값
- Widget/Layout 설정

### 5.2 UIEndPage.ts 코드 확인

- 캐릭터 설정 로직
- 동적 스케일 조정 여부
- 애니메이션 재생 부분

### 5.3 테스트 시나리오

| 시나리오 | 확인 사항 |
|---------|----------|
| 스테이지 모드 클리어 | 캐릭터 크기 확인 |
| 무한 모드 종료 | 캐릭터 크기 확인 |
| 다양한 영웅 사용 | 일관성 확인 |
| 펫 장착 상태 | 펫 크기 확인 |

---

## 6. 주의사항

### 6.1 레이아웃 고려

- 캐릭터 크기 변경 시 다른 UI 요소와 겹침 주의
- 점수, 보상 정보 영역 침범 확인
- 버튼 영역과의 간격 유지

### 6.2 애니메이션 고려

- 캐릭터 승리/패배 애니메이션이 있는 경우
- 스케일 변경이 애니메이션에 영향 주는지 확인

---

## 7. 체크리스트

### 정보 제공 체크리스트
- [ ] 현재 캐릭터가 큰지/작은지 확인
- [ ] 원하는 크기 비율 확인 (예: 80%, 120%)
- [ ] 영웅/펫 적용 범위 확인

### 구현 체크리스트 (정보 제공 후)
- [ ] UIEndPage.prefab 분석
- [ ] UIEndPage.ts 분석
- [ ] 스케일 값 수정
- [ ] 스테이지 모드 테스트
- [ ] 무한 모드 테스트
- [ ] 다양한 영웅으로 테스트

---

## 8. 담당자 액션

**정보 제공 요청:**
```
1. 현재 캐릭터가 너무 큰가요, 작은가요?
2. 현재 대비 몇 %로 조정하면 될까요? (예: 80% 또는 120%)
3. 영웅과 펫 모두 조정이 필요한가요?
```
